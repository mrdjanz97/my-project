{"version":3,"file":"withErrorBoundary.js","sources":["../../../src/shared/hoc/withSuspense.tsx","../../../src/shared/hoc/withErrorBoundary.tsx"],"sourcesContent":["import { ComponentType, ReactElement, Suspense } from 'react';\r\n\r\nexport default function withSuspense<T extends Record<string, unknown>>(\r\n  Component: ComponentType<T>,\r\n  SuspenseComponent: ReactElement,\r\n) {\r\n  return function WithSuspense(props: T) {\r\n    return (\r\n      <Suspense fallback={SuspenseComponent}>\r\n        <Component {...props} />\r\n      </Suspense>\r\n    );\r\n  };\r\n}\r\n","import { Component, ComponentType, ReactElement } from 'react';\r\n\r\nclass ErrorBoundary extends Component<\r\n  {\r\n    children: ReactElement;\r\n    fallback: ReactElement;\r\n  },\r\n  {\r\n    hasError: boolean;\r\n  }\r\n> {\r\n  state = { hasError: false };\r\n\r\n  static getDerivedStateFromError() {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    console.error(error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return this.props.fallback;\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default function withErrorBoundary<T extends Record<string, unknown>>(\r\n  Component: ComponentType<T>,\r\n  ErrorComponent: ReactElement,\r\n) {\r\n  return function WithErrorBoundary(props: T) {\r\n    return (\r\n      <ErrorBoundary fallback={ErrorComponent}>\r\n        <Component {...props} />\r\n      </ErrorBoundary>\r\n    );\r\n  };\r\n}\r\n"],"names":["jsx","Suspense","Component"],"mappings":";;;;;;;AAEwB,SAAA,aACtB,WACA,mBACA;AACO,SAAA,SAAS,aAAa,OAAU;AAEnC,WAAAA,sCAACC,aAAAA,YAAS,UAAU,mBAClB,gDAAC,WAAW,EAAA,GAAG,MAAO,CAAA,EACxB,CAAA;AAAA,EAAA;AAGN;ACXA,MAAM,sBAAsBC,aAAAA,UAQ1B;AAAA,EARF;AAAA;AASE,iCAAQ,EAAE,UAAU;;EAEpB,OAAO,2BAA2B;AACzB,WAAA,EAAE,UAAU;EACrB;AAAA,EAEA,kBAAkB,OAAO,WAAW;AAC1B,YAAA,MAAM,OAAO,SAAS;AAAA,EAChC;AAAA,EAEA,SAAS;AACH,QAAA,KAAK,MAAM,UAAU;AACvB,aAAO,KAAK,MAAM;AAAA,IACpB;AAEA,WAAO,KAAK,MAAM;AAAA,EACpB;AACF;AAEwB,SAAA,kBACtBA,YACA,gBACA;AACO,SAAA,SAAS,kBAAkB,OAAU;AAExC,WAAAF,sCAAC,iBAAc,UAAU,gBACvB,gDAACE,YAAA,EAAW,GAAG,MAAO,CAAA,EACxB,CAAA;AAAA,EAAA;AAGN;"}